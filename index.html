<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Prévia de Site - Valentim Web</title>
    <style>
        /* Estilos CSS embutidos */
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            padding: 20px;
            background-color: #f4f4f4;
            color: #333;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            width: 100%;
            margin: 30px auto;
            background: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h1, h2 {
            text-align: center;
            color: #0056b3;
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }

        input[type="text"], input[type="email"], input[type="url"], textarea {
            width: calc(100% - 22px);
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }

        textarea {
            resize: vertical;
            min-height: 60px;
        }

        button {
            padding: 10px 15px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-top: 10px;
        }
        button:hover {
            background-color: #0056b3;
        }
        button + button {
            margin-left: 10px;
        }

        .form-section {
            display: none;
            padding: 20px;
            border: 1px solid #eee;
            border-radius: 5px;
            margin-bottom: 20px;
            background-color: #fdfdfd;
        }
        .form-section.active {
            display: block;
        }

        .color-options {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }
        .color-box {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 2px solid #ccc;
            cursor: pointer;
            transition: border-color 0.3s ease;
        }
        .color-box.selected {
            border-color: #007bff;
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.5);
        }
        .color1 { background-color: #007bff; } /* Primary */
        .color2 { background-color: #28a745; } /* Primary */
        .color3 { background-color: #dc3545; } /* Primary */

        /* Estilos da Prévia do Site */
        .website-preview {
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            margin-top: 30px;
            background-color: #fff;
            box-shadow: 0 0 15px rgba(0,0,0,0.05);
            min-height: 400px; /* Garante altura mínima para a prévia */
            display: flex;
            flex-direction: column;
        }

        .preview-header {
            background-color: var(--primary-color, #007bff); /* Fallback */
            color: white;
            padding: 20px;
            text-align: center;
        }
        .preview-header h1 {
            margin: 0;
            color: white;
            font-size: 2em;
        }
        .preview-header p {
            margin: 5px 0 10px;
            font-size: 1.1em;
            opacity: 0.9;
        }
        .preview-header nav a {
            color: white;
            margin: 0 10px;
            text-decoration: none;
            font-weight: bold;
        }

        .preview-section {
            padding: 30px 20px;
            text-align: center;
        }
        .preview-section:nth-child(odd) {
            background-color: #f8f8f8;
        }
        .preview-section h2 {
            font-size: 1.8em;
            margin-bottom: 15px;
        }
        .preview-section ul {
            list-style: none;
            padding: 0;
        }
        .preview-section ul li {
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .preview-footer {
            background-color: var(--secondary-color, #333); /* Fallback */
            color: white;
            padding: 15px;
            text-align: center;
            font-size: 0.9em;
            margin-top: auto; /* Empurra o footer para baixo */
        }

        /* Botão do WhatsApp */
        .whatsapp-button {
            display: inline-block;
            background-color: #25D366; /* Cor do WhatsApp */
            color: white;
            padding: 12px 25px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: bold;
            font-size: 1.1em;
            margin-top: 20px;
            transition: background-color 0.3s ease;
        }
        .whatsapp-button:hover {
            background-color: #1DA851;
        }

        /* Variáveis CSS para cores dinâmicas */
        :root {
            --primary-color: #007bff;
            --secondary-color: #6c757d;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Crie a Prévia do Seu Site em Minutos!</h1>
        <p>Preencha as informações e veja seu negócio ganhar forma na web. É rápido e fácil!</p>

        <div class="form-section active" id="section-info">
            <h2>1. Informações da Empresa</h2>
            <label for="nome_empresa">Nome da Empresa:</label>
            <input type="text" id="nome_empresa" placeholder="Sua Empresa Ltda." onkeyup="updatePreview()">

            <label for="slogan">Slogan:</label>
            <input type="text" id="slogan" placeholder="Seu sucesso online, nossa missão" onkeyup="updatePreview()">

            <label for="descricao">Sobre Nós:</label>
            <textarea id="descricao" placeholder="Uma breve descrição da sua empresa..." onkeyup="updatePreview()"></textarea>
            <button onclick="nextSection('section-design')">Próximo</button>
        </div>

        <div class="form-section" id="section-design">
            <h2>2. Escolha o Estilo</h2>
            <label>Paleta de Cores:</label>
            <div class="color-options">
                <div class="color-box color1" data-primary="#007bff" data-secondary="#6c757d" onclick="selectColors(this, '#007bff', '#6c757d')"></div>
                <div class="color-box color2" data-primary="#28a745" data-secondary="#ffc107" onclick="selectColors(this, '#28a745', '#ffc107')"></div>
                <div class="color-box color3" data-primary="#dc3545" data-secondary="#00bcd4" onclick="selectColors(this, '#dc3545', '#00bcd4')"></div>
                </div>
            <p>Selecione uma paleta para ver a prévia.</p>
            <button onclick="prevSection('section-info')">Anterior</button>
            <button onclick="nextSection('section-content')">Próximo</button>
        </div>

        <div class="form-section" id="section-content">
            <h2>3. Seções do Site</h2>
            <label for="titulo_servicos">Título da Seção de Serviços:</label>
            <input type="text" id="titulo_servicos" value="Nossos Serviços" onkeyup="updatePreview()">

            <label for="servicos_lista">Lista de Serviços (um por linha):</label>
            <textarea id="servicos_lista" placeholder="Serviço 1&#10;Serviço 2&#10;Serviço 3" onkeyup="updatePreview()"></textarea>

            <button onclick="prevSection('section-design')">Anterior</button>
            <button onclick="nextSection('section-contact')">Próximo</button>
        </div>

        <div class="form-section" id="section-contact">
            <h2>4. Contato</h2>
            <label for="contato_email">Seu Email:</label>
            <input type="email" id="contato_email" placeholder="contato@empresa.com" onkeyup="updatePreview()">
            <label for="contato_telefone">Telefone/WhatsApp:</label>
            <input type="text" id="contato_telefone" placeholder="(XX) XXXXX-XXXX" onkeyup="updatePreview()">
            <label for="link_redes">Link Rede Social:</label>
            <input type="url" id="link_redes" placeholder="https://instagram.com/suaempresa" onkeyup="updatePreview()">

            <button onclick="prevSection('section-content')">Anterior</button>
            <button onclick="generateFinalPreview()">Ver Minha Prévia!</button>
        </div>

        <hr>

        <h2>Sua Prévia Rápida do Site:</h2>
        <div id="website-preview" class="website-preview">
            <header class="preview-header">
                <h1 id="preview-empresa">Nome da Sua Empresa</h1>
                <p id="preview-slogan">Seu Slogan Incrível Aqui</p>
                <nav><a href="#">Início</a> <a href="#">Serviços</a> <a href="#">Contato</a></nav>
            </header>
            <section class="preview-section preview-about">
                <h2 style="color: var(--primary-color);">Sobre Nós</h2>
                <p id="preview-descricao">A descrição da sua empresa aparecerá aqui. Conte um pouco sobre o que você faz e seus valores.</p>
            </section>
            <section class="preview-section preview-services">
                <h2 style="color: var(--primary-color);" id="preview-titulo-servicos">Nossos Serviços</h2>
                <ul id="preview-servicos-lista">
                    <li>Serviço 1</li>
                    <li>Serviço 2</li>
                    <li>Serviço 3</li>
                </ul>
            </section>
            <section class="preview-section preview-contact">
                <h2 style="color: var(--primary-color);">Entre em Contato</h2>
                <p id="preview-contato-email">Email: seuemail@empresa.com</p>
                <p id="preview-contato-telefone">Telefone: (XX) XXXXX-XXXX</p>
                <p id="preview-redes"><a href="#" target="_blank" style="color: var(--primary-color);">Nossas Redes Sociais</a></p>
            </section>
            <footer class="preview-footer">
                <p>&copy; <span id="current-year"></span> Seu Negócio. Prévia gerada por Valentim Web.</p>
            </footer>
        </div>

        <div id="cta-final" style="text-align: center; margin-top: 30px; display: none;">
            <h3>Gostou do que viu? Isso é só o começo!</h3>
            <p>Imagine seu site completo, com fotos profissionais, textos otimizados, formulários funcionando e atraindo clientes reais.</p>
            <a href="https://api.whatsapp.com/send?phone=SEUNUMERO&text=Olá,%20gostei%20da%20prévia%20do%20meu%20site%20e%20quero%20saber%20mais!" target="_blank" class="whatsapp-button">Quero o Site Completo! Fale Conosco no WhatsApp!</a>
            <p style="margin-top: 15px;">Ou ligue: (XX) XXXX-XXXX</p>
        </div>
    </div>

    <script>
        // Código JavaScript embutido
        let currentPrimaryColor = '#007bff';
        let currentSecondaryColor = '#6c757d';

        document.addEventListener('DOMContentLoaded', () => {
            // Atualiza o ano no footer
            document.getElementById('current-year').textContent = new Date().getFullYear();

            // Event listeners para atualização em tempo real
            const inputs = document.querySelectorAll('#section-info input, #section-info textarea, #section-content input, #section-content textarea, #section-contact input');
            inputs.forEach(input => {
                input.addEventListener('keyup', updatePreview);
            });

            // Seleciona a primeira opção de cor por padrão
            const defaultColorBox = document.querySelector('.color-box.color1');
            if (defaultColorBox) {
                selectColors(defaultColorBox, defaultColorBox.dataset.primary, defaultColorBox.dataset.secondary);
            }
        });

        function updatePreview() {
            // Atualiza informações básicas
            document.getElementById('preview-empresa').textContent = document.getElementById('nome_empresa').value || 'Nome da Sua Empresa';
            document.getElementById('preview-slogan').textContent = document.getElementById('slogan').value || 'Seu Slogan Incrível Aqui';
            document.getElementById('preview-descricao').textContent = document.getElementById('descricao').value || 'A descrição da sua empresa aparecerá aqui. Conte um pouco sobre o que você faz e seus valores.';

            // Atualiza serviços
            document.getElementById('preview-titulo-servicos').textContent = document.getElementById('titulo_servicos').value || 'Nossos Serviços';
            const servicosLista = document.getElementById('servicos_lista').value.split('\n').filter(item => item.trim() !== '');
            const ulServicos = document.getElementById('preview-servicos-lista');
            ulServicos.innerHTML = ''; // Limpa a lista existente
            if (servicosLista.length > 0) {
                servicosLista.forEach(servico => {
                    const li = document.createElement('li');
                    li.textContent = servico.trim();
                    ulServicos.appendChild(li);
                });
            } else {
                ulServicos.innerHTML = '<li>Serviço 1</li><li>Serviço 2</li><li>Serviço 3</li>'; // Conteúdo padrão
            }


            // Atualiza contato
            document.getElementById('preview-contato-email').textContent = 'Email: ' + (document.getElementById('contato_email').value || 'seuemail@empresa.com');
            document.getElementById('preview-contato-telefone').textContent = 'Telefone: ' + (document.getElementById('contato_telefone').value || '(XX) XXXXX-XXXX');
            const linkRedes = document.getElementById('link_redes').value;
            const previewRedesLink = document.querySelector('#preview-redes a');
            if (linkRedes) {
                previewRedesLink.href = linkRedes;
                previewRedesLink.textContent = 'Nossas Redes Sociais';
            } else {
                previewRedesLink.href = '#';
                previewRedesLink.textContent = 'Nossas Redes Sociais'; // Texto padrão
            }
        }

        function selectColors(element, primary, secondary) {
            // Remove a classe 'selected' de todos os boxes
            document.querySelectorAll('.color-box').forEach(box => {
                box.classList.remove('selected');
            });
            // Adiciona a classe 'selected' ao box clicado
            element.classList.add('selected');

            // Atualiza as variáveis CSS
            document.documentElement.style.setProperty('--primary-color', primary);
            document.documentElement.style.setProperty('--secondary-color', secondary);
            currentPrimaryColor = primary;
            currentSecondaryColor = secondary;
            // Opcional: Chama updatePreview() se a mudança de cor não afetar apenas o CSS
            // updatePreview();
        }

        // Funções para navegação entre as seções do formulário
        let currentSectionIndex = 0;
        const formSections = document.querySelectorAll('.form-section');

        function showSection(index) {
            formSections.forEach((section, i) => {
                if (i === index) {
                    section.classList.add('active');
                } else {
                    section.classList.remove('active');
                }
            });
            currentSectionIndex = index;
        }

        function nextSection(nextSectionId) {
            const currentSection = formSections[currentSectionIndex];
            const nextSection = document.getElementById(nextSectionId);

            // Validação básica antes de avançar
            const inputs = currentSection.querySelectorAll('input[required], textarea[required]');
            let allFilled = true;
            inputs.forEach(input => {
                if (!input.value.trim()) {
                    allFilled = false;
                    input.style.borderColor = 'red'; // Feedback visual
                } else {
                    input.style.borderColor = '';
                }
            });

            if (!allFilled) {
                alert('Por favor, preencha todos os campos obrigatórios nesta seção.');
                return;
            }

            if (nextSection) {
                currentSection.classList.remove('active');
                nextSection.classList.add('active');
                const nextIndex = Array.from(formSections).indexOf(nextSection);
                currentSectionIndex = nextIndex;
            }
        }

        function prevSection(prevSectionId) {
            const currentSection = formSections[currentSectionIndex];
            const prevSection = document.getElementById(prevSectionId);
            if (prevSection) {
                currentSection.classList.remove('active');
                prevSection.classList.add('active');
                const prevIndex = Array.from(formSections).indexOf(prevSection);
                currentSectionIndex = prevIndex;
            }
        }

        function generateFinalPreview() {
            // Esconde o formulário e mostra a prévia e a CTA final
            formSections.forEach(section => section.style.display = 'none');
            document.getElementById('website-preview').style.display = 'block';
            document.getElementById('cta-final').style.display = 'block';

            // Rola para a prévia
            document.getElementById('website-preview').scrollIntoView({ behavior: 'smooth' });

            // Opcional: Aqui você pode coletar os dados para um back-end se tiver um
            // para salvar as escolhas do cliente e o link da prévia para seu acompanhamento.
            const finalData = {
                nome_empresa: document.getElementById('nome_empresa').value,
                slogan: document.getElementById('slogan').value,
                descricao: document.getElementById('descricao').value,
                primary_color: currentPrimaryColor,
                secondary_color: currentSecondaryColor,
                titulo_servicos: document.getElementById('titulo_servicos').value,
                servicos_lista: document.getElementById('servicos_lista').value.split('\n').filter(item => item.trim() !== ''),
                contato_email: document.getElementById('contato_email').value,
                contato_telefone: document.getElementById('contato_telefone').value,
                link_redes: document.getElementById('link_redes').value,
            };
            console.log("Dados finais para envio:", finalData); // Apenas para debug no console
            // Exemplo de como enviar para um back-end (você precisaria configurar um endpoint)
            /*
            fetch('/api/save_preview', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(finalData)
            })
            .then(response => response.json())
            .then(data => console.log('Dados salvos:', data))
            .catch(error => console.error('Erro ao salvar:', error));
            */
        }

        // Inicia mostrando a primeira seção
        showSection(0);
    </script>
</body>
</html>
